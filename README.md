# Book-Recommendation-System
## 0 代码用途
<br> 完成`python2`调用电脑本地摄像头，截取用户头像，利用face++对年龄、性别进行识别，
  根据对用户的年龄、性别识别结果，给用户人群推荐与其年龄、性别相匹配的书籍
## 1 文件夹/文件
 <br> `faces`:截取的用户图像，为上次运行程序时用户总共截取的图片总数，名称为截取次序.
 <br>`images`:为不同用户推荐的书本,命名规则为：起始年龄_终止年龄_性别(F/M,若无则没有该项)推荐的图片命名规则：起始年龄_终止年龄_性别(F/M,若无则没有该项)_图片次序.jpg    
 <br>`face_detect_and_book_recommendation.py`：最终程序，`python2`运行
## 2 程序face_detect_and_book_recommendation.py
 <br>  `recommend_book(index,imgs,class_name,window)` :递归实现推荐图片
 <br>     `index`:当前第index个推荐图片
  <br>     `imgs`:当前推荐类别的相对路径list
  <br>     `class_name`:当前推荐类别名称，规则为：起始年龄_终止年龄_性别(F/M,若无则没有该项)
  <br>     `window`:展示窗口名称
## 3  用户使用说明：
**书籍推荐**
     <br> **Step1**:运行代码
     <br> **Step2**:面对摄像头，按下`s`键，若检测失败，运行显示`no face has been detected , try again`否则，自动保存截图且进入推荐界面。可按下`q`键退出摄像头.
      <br> **Step3**:进入第一张图书的推荐界面，可按`d`查看下一页，也可按`o`退出至摄像头.
      <br> **Step4**:在第一张图片的推荐界面，用户只可选择查看下一页或者退出至摄像头.
       <br> 在第二张图片至N-1（N为总推荐数），用户可查看按`u`查看上一页、按`d`查看下一页或按`o`退出至摄像头
       <br> 在最后一张图片，用户只可查看上一页或者退出至摄像头.
## 4  权限及规则设置：
       1.只能在退出推荐界面后才可关闭摄像头
       2.在单次运行程序时，用户每按一下一次's'，都会保存到本地一张截图，下次运行时覆盖
       3.检测人脸目前调用face++，当前只采用了性别和年龄属性.
## 5  参数设置：
        1.class分类标准:['0_3','4_6','7_12','13_18','19_25','26_40_F','26_40_M','40_60_F','40_60_M','60']（见books.docx)
        2.摄像头尺寸：frame = cv2.resize(frame,None, fx=2, fy=2, interpolation=cv2.INTER_CUBIC),即默认尺寸的2即默认尺寸的2倍长宽
        3.推荐图片尺寸：804*1024(接近于书籍宽长比的最大尺寸)
        4.当前摄像头最多可接受按键数：100
## 6  扩展规则：
       <br> 若想扩展每类的推荐图书数目，只需要按规定改好图像名称，放入对应文件夹即可.
